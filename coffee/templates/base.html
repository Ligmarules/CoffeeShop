<!doctype html>
{% load static %}
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static 'css/base.css' %}" > 

    <script type="text/javascript"> 
      var user = '{{ request.user }}'
      
      function getToken(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
      }
      const csrftoken = getToken('csrftoken');
    </script>


  </head>
  <body>
    
    <nav class="navbar navbar-expand-lg w3-animate-top navbar-light bg-light">
      <a class="navbar-brand" href=""><i class="fa fa-fw fa-home"></i>Home</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item" >
            <a class="nav-link" href="{% url 'about' %}" >About</a>
          </li>

          <li class="nav-item" >
            <a class="nav-link" href="{% url 'help' %}">Help</a>          
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0" >
    
  
  {% comment %} ----------------------------------------------------------------------------------------------------------------- {% endcomment %}        
          {% if user.is_authenticated  %}
            <main>
              <button type="button" class="btn btn-success" data-toggle="modal" data-target="#cartModal" ><i class="fa fa-shopping-cart"></i>Add</button>    
              
              <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header border-bottom-0">
                      <h5 class="modal-title" id="exampleModalLabel">Your Shopping Cart</h5>
                    </div>
                    <div class="modal-body">
                      <table class="table table-image">
                        <tr>
                          <div class="row">
                            {% for coffee in coffee %} 
                              <div class="col">
                                <div class="card" id="item1" style="width: 10rem;">                              
                                  <img src="{{ coffee.image }}" class="card-img-top" alt="...">                       
                                  <h5 class="card-title">{{ coffee.name }} </h5>       
                                  <p class="card-text">({{ coffee.price }} $) </p>
                                  <input type="text" class="form-control" id="input1" value="total.."></input>
                                  <a href="" class="btn btn-success btn-sm"><i class='fa fa-check'></i></a>
                                  <a href="" class="btn btn-danger btn-sm"><i class="fa fa-times"></i></a> 
                                </div>
                              </div>
                            {% endfor %}
                          </div>
                        </tr>
                     
                      </table> 
                    </div>
                    <div class="modal-footer border-top-0 d-flex justify-content-between">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-success">Checkout</button>
                    </div>
                  </div>
                </div>
              </div>
            </main>
          {% else %}
            <a href=""></i></a>
          {% endif %}
 
  {% comment %} ----------------------------------------------------------------------------------------------------------------- {% endcomment %}

          <form method="get">
              <input type="text" class="form-control mr-sm-2" name="q" id="id_q" placeholder="Search..." value="{{ query }}">
              <button class="btn btn-outline-success my-2 my-sm-0" type="submit" ><i class="fa fa-fw fa-search"></i> Search</button>
          </form>

          {% if user.is_authenticated  %}
            <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
          {% else %}
             <a href="{% url 'login' %}"class="btn btn-dark"><i class="fa fa-fw fa-user"></i> Login</a>
          {% endif %}
            
        </form>
      </div>
    </nav>



{% comment %} ----------------------------------------------------------------------------------------------------------------- {% endcomment %}
    




  <div class="bd-example ">
      <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="https://shorturl.at/lsuxI" class="d-block w-100" alt="..." width="1155" height="648">
            <div class="carousel-caption d-none d-md-block">
              <h5>Myth</h5>
              <p>There are many legends about coffee's origin.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://shorturl.at/mqxHU" class="d-block w-100" alt="..." width="1155" height="648">
            <div class="carousel-caption d-none d-md-block">
              <h5>Coffee Benefit</h5>
              <p>Coffee is a beloved beverage known for its ability to fine-tune your focus and boost your energy levels.
              </p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="https://shorturl.at/ruKQZ" class="d-block w-100" alt="..." width="1155" height="648">
            <div class="carousel-caption d-none d-md-block">
              <h5>Coffee and Health</h5>
              <p>Coffee could be linked to a lower risk of depression and may even be linked to a lower risk of death by suicide.</p>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>

    {% comment %} ----------------------------------------------------------------------------------------------------------------- {% endcomment %}

<div class="container">
  {% block content %}
  {% endblock %}

  <nav aria-label="Page navigation example">
    <ul class="pagination">
      <li class="page-item"><a class="page-link" href="#">Previous</a></li>
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item"><a class="page-link" href="#">Next</a></li>
    </ul>
  </nav>

  <footer class="container">
      <h2 class="w3-center">contact Us</h2>
      <ul>
        <li> <a href="Javascript:void(0)"> <i class="fa fa-map-marker"></i> Location</a></li>
        <li> <a href="Javascript:void(0)"><i class="fa fa-phone" ></i> Call +01 1234567890</a></li>
        <li> <a href="Javascript:void(0)"> <i class="fa fa-envelope" ></i> demo@gmail.com</a></li>
      </ul>
  </footer>


  <script type="text/javascript" src="{% static 'js/cart.js' %}"></script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script  src="js/cart.js"></script> 
  </body>
</html>
